(()=>{"use strict";var t={56:(t,e,s)=>{t.exports=function(t){var e=s.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function s(t){for(var s=-1,n=0;n<e.length;n++)if(e[n].identifier===t){s=n;break}return s}function n(t,n){for(var o={},i=[],a=0;a<t.length;a++){var c=t[a],l=n.base?c[0]+n.base:c[0],u=o[l]||0,h="".concat(l," ").concat(u);o[l]=u+1;var m=s(h),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(d);else{var p=r(d,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:p,references:1})}i.push(h)}return i}function r(t,e){var s=e.domAPI(e);return s.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;s.update(t=e)}else s.remove()}}t.exports=function(t,r){var o=n(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var a=s(o[i]);e[a].references--}for(var c=n(t,r),l=0;l<o.length;l++){var u=s(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=c}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var s="",n=void 0!==e[5];return e[4]&&(s+="@supports (".concat(e[4],") {")),e[2]&&(s+="@media ".concat(e[2]," {")),n&&(s+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),s+=t(e),n&&(s+="}"),e[2]&&(s+="}"),e[4]&&(s+="}"),s}).join("")},e.i=function(t,s,n,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);n&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),s&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=s):u[2]=s),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,s){var n=function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(s){!function(t,e,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var r=void 0!==s.layer;r&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,r&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var o=s.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,s)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},958:(t,e,s)=>{s.d(e,{A:()=>a});var n=s(601),r=s.n(n),o=s(314),i=s.n(o)()(r());i.push([t.id,':root {\n  --bg-calc-color: rgb(211, 217, 233);\n  --bg-calc-darker: rgb(198, 203, 216);\n  --operation-buttons: rgb(182, 214, 252);\n  --nubmers-buttons: rgb(235, 238, 248);\n  --buttons: rgb(230, 234, 250);\n  --button-text: black;\n}\n\nbody[data-theme="dark"] {\n  --bg-calc-color: rgb(71, 71, 71);\n  --bg-calc-darker: rgb(63, 63, 63);\n  --operation-buttons: rgb(255, 166, 0);\n  --nubmers-buttons: rgb(134, 134, 134);\n  --buttons: rgb(90, 90, 90);\n  --button-text: white;\n}\n\n* {\n  transition: 0.2s ease-in-out;\n}\n\nbody {\n  background-color: beige;\n  background-size: cover;\n  font-family: "Segoe UI", Arial, sans-serif;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  margin: 0;\n}\n\n.calculator {\n  background-color: var(--bg-calc-color);\n  border-radius: 15px;\n  overflow: hidden;\n  border: 2px solid var(--bg-calc-color);\n  max-width: 424px;\n  overflow: hidden;\n  position: relative;\n}\n\n.theme-panel {\n  position: absolute;\n  background-color: var(--bg-calc-color);\n  border: 2px solid var(--bg-calc-darker);\n  height: 100%;\n  width: 250px;\n  right: -260px;\n  transition: 0.2s ease-in-out;\n  padding: 50px 20px;\n  box-sizing: border-box;\n}\n\n.theme-panel>h3 {\n  color: var(--button-text);\n  margin-top: 0;\n}\n\n.theme-buttons {\n  display: flex;\n  flex-direction: column;\n}\n\n.theme-buttons>button {\n  width: 100%;\n  font-size: 20px;\n  margin-bottom: 10px;\n  padding: 7px 0px;\n}\n\n.choosen-button {\n  background-color: var(--operation-buttons);\n}\n\n.upper {\n  margin: 0 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.app-name {\n  color: var(--button-text);\n}\n\n.menu-icon {\n  height: 20px;\n  width: 35px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  z-index: 100;\n}\n\n.menu-icon>div {\n  width: 100%;\n  height: 2px;\n  border-radius: 1px;\n  background-color: var(--button-text);\n}\n\n.history-line {\n  color: var(--button-text);\n  text-align: right;\n  min-height: 21px;\n}\n\n.buttons {\n  display: grid;\n  grid-template-columns: repeat(6, 70px);\n  grid-template-rows: repeat(5, 70px);\n}\n\nbutton {\n  background: var(--buttons);\n  color: var(--button-text);\n  font-size: 30px;\n  border-radius: 5px;\n  border-color: var(--bg-calc-color);\n}\n\n.numbers-button {\n  background-color: var(--nubmers-buttons);\n}\n\n.oper-button {\n  background-color: var(--operation-buttons);\n}\n\n.memory-buttons {\n  display: flex;\n  justify-content: space-evenly;\n}\n\n.memory-buttons>button {\n  background-color: var(--bg-calc-color);\n  border: 0;\n  transition: 0.1s linear;\n  font-size: 20px;\n}\n\n.memory-buttons>button:hover {\n  background-color: var(--bg-calc-darker);\n}\n\n#input {\n  margin: 10px 3%;\n  height: 50px;\n  width: 94%;\n  background-color: var(--bg-calc-darker);\n  color: var(--button-text);\n  font-size: 30px;\n  text-align: right;\n}',""]);const a=i}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,exports:{}};return t[n](o,o.exports,s),o.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.nc=void 0;var n=s(72),r=s.n(n),o=s(825),i=s.n(o),a=s(659),c=s.n(a),l=s(56),u=s.n(l),h=s(540),m=s.n(h),d=s(113),p=s.n(d),v=s(958),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=m(),r()(v.A,y),v.A&&v.A.locals&&v.A.locals;class b{type;constructor(t,e){this.calc=t,this.type=e}execute(){}setHistory(){}setNewHistory(){this.calc.setNewHistory(""),this.setHistory()}}const g=new class{result=0;history_line="";value;memory_value;memory_save(t){this.memory_value=t}memmory_plus(t){try{if(null==this.memory_value)throw new Error("Нет числа в памяти");this.memory_value=this.memory_value+t}catch(t){this.result=t.message,console.log("lol")}}memmory_minus(t){try{if(null==this.memory_value)throw new Error("Нет числа в памяти");this.memory_value=this.memory_value-t}catch(t){this.result=t.message,console.log("lol")}}memory_clear(){this.memory_value=void 0}memory_recall(){try{if(null==this.memory_value)throw new Error("Нет числа в памяти");return this.memory_value}catch(t){return this.result=t.message,console.log("lol"),t.message}}add(t){this.result+=t}sub(t){this.result-=t}equal(){}multiply(t){this.result*=t}divide(t){try{if(0==t)throw new Error("Нельзя делить на ноль");this.result/=t}catch(t){this.result=t.message,this.history_line=""}}negative(t){this.value=-1*t}erase(){this.result=0,this.history_line=""}reverse(t){try{if(0==t)throw new Error("Нельзя делить на ноль");this.value=1/t}catch(t){this.value=t.message}}sqrtX2(t){try{if(t<0)throw new Error("Неверный ввод");this.value=t**.5}catch(t){this.value=t.message}}sqrtX3(t){try{if(t<0)throw new Error("Неверный ввод");this.value=t**(1/3)}catch(t){this.value=t.message}}sqrtXY(t){try{if(this.result<0||0==t)throw new Error("Неверный ввод");this.result=this.result**(1/t)}catch(t){this.result=t.message}}exp2(t){this.value=t**2}exp3(t){this.value=t**3}exp10(t){this.value=10**t}expY(t){this.result=this.result**t}factorial(t){try{if(t>0){let e=t-1;for(this.value=t;e>1;)this.value*=e,e--}else{if(0!=t)throw new Error("Неверный ввод");this.value=1}}catch(t){this.value=t.message}}percent(t){this.value=this.result*(t/100)}getResult(){return this.result}setResult(t){this.result=t}getValue(){return this.value}setValue(t){this.value=t}getHistory(){return this.history_line}setHistory(t){this.history_line+=t}setNewHistory(t){this.history_line=t}},x=new class{command=null;command_history=[];constructor(t){this.calc=t}setCommand(t){this.prev_command=this.command,this.command=t,this.command_history.push(t),null===t||"operation"!=t.type&&"gui"!=t.type||t.setHistory()}setOldCommand(){this.command=this.command_history.at(length-2)}setValue(t){if(this.command.value=t,"operation"==this.command.type){if(null!=this.command_history.at(length-1)&&"instant"==this.command_history.at(length-1).type)return;this.calc.setHistory(t)}else 1==this.command_history.length&&"instant"==this.command.type?this.command.setNewHistory():this.command.setHistory()}count(){this.command.execute()}}(g),f=new Map;f.set("add",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.add(this.value)}setHistory(){this.calc.setHistory(" + ")}}(g,"operation")),f.set("sub",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.sub(this.value)}setHistory(){this.calc.setHistory(" - ")}}(g,"operation")),f.set("mul",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.multiply(this.value)}setHistory(){this.calc.setHistory(" * ")}}(g,"operation")),f.set("div",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.divide(this.value)}setHistory(){this.calc.setHistory(" / ")}}(g,"operation")),f.set("sqrtxy",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.sqrtXY(this.value)}setHistory(){this.calc.setHistory(" sqrt")}}(g,"operation")),f.set("expy",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.expY(this.value)}setHistory(){this.calc.setHistory(" ^ ")}}(g,"operation")),f.set("negative",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.negative(this.value)}setHistory(){this.calc.setHistory("negative("+this.value+")")}}(g,"instant")),f.set("factorial",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.factorial(this.value)}setHistory(){this.calc.setHistory(this.value+"!")}}(g,"instant")),f.set("reverse",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.reverse(this.value)}setHistory(){this.calc.setHistory("1/"+this.value)}}(g,"instant")),f.set("sqrtx2",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.sqrtX2(this.value)}setHistory(){this.calc.setHistory(" sqrt("+this.value+") ")}}(g,"instant")),f.set("sqrtx3",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.sqrtX3(this.value)}setHistory(){this.calc.setHistory(" sqrt3("+this.value+") ")}}(g,"instant")),f.set("exp2",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.exp2(this.value)}setHistory(){this.calc.setHistory(this.value+" ^2 ")}}(g,"instant")),f.set("exp3",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.exp3(this.value)}setHistory(){this.calc.setHistory(this.value+" ^3 ")}}(g,"instant")),f.set("exp10",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.exp10(this.value)}setHistory(){this.calc.setHistory(" 10^"+this.value)}}(g,"instant")),f.set("percent",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.percent(this.value)}setHistory(){this.calc.setHistory(this.value+"% ")}}(g,"instant")),f.set("equal",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.equal()}setHistory(){this.calc.setHistory(" = "+this.calc.getResult())}}(g,"operation")),f.set("erase",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.erase()}}(g,"operation")),f.set("ms",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.memory_save(this.value)}}(g,"memory")),f.set("mc",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.memory_clear(this.value)}}(g,"memory")),f.set("mplus",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.memmory_plus(this.value)}}(g,"memory")),f.set("mminus",new class extends b{constructor(t,e){super(t,e)}execute(){this.calc.memmory_minus(this.value)}}(g,"memory"));const w=new class{value="";buuttonsBlock=!1;constructor(t,e,s){this.invoker=t,this.calc=e,this.command_map=s}display(t){isNaN(Number(t))&&(this.buuttonsBlock=!0,this.calc.setNewHistory("")),document.getElementById("input").value=t}processClick(t){const e=t.getAttribute("operation");if(t.classList.contains("numbers-button")){this.buuttonsBlock&&(this.buuttonsBlock=!1,this.calc.setResult(0),this.value="");const e=t.textContent;if("."===e&&this.value.includes("."))return;""===this.value&&"."===e?this.value="0.":"0"===this.value&&"."!==e?this.value=e:this.value+=e,null==this.invoker.command&&(this.calc.setResult(Number(this.value)),this.calc.setNewHistory(`${this.calc.getResult()}`)),this.display(this.value)}else if("del"==e)this.value.length>0&&(this.value=this.value.slice(0,-1),this.display(this.value));else if("mr"==e)this.display(this.calc.memory_recall()),this.value=this.calc.memory_recall();else if(!this.buuttonsBlock||"erase"==e){let t=this.command_map.get(e);switch(t.type){case"instant":this.invoker.setCommand(t),this.invoker.setValue(Number(this.value)),this.invoker.count(),this.value=this.calc.getValue(),this.display(this.value),this.invoker.setOldCommand(),null==this.invoker.command&&this.calc.setResult(this.value);break;case"operation":null!=this.invoker.command&&(this.invoker.setValue(Number(this.value)),this.invoker.count()),this.invoker.setCommand(t),"erase"!=e&&"equal"!=e||(this.invoker.count(),this.invoker.setCommand(null),this.invoker.command_history=[]),this.value="",this.display(this.calc.getResult());break;case"memory":this.invoker.setCommand(t),this.invoker.setValue(Number(document.getElementById("input").value)),this.invoker.count(),isNaN(Number(this.calc.getResult()))&&this.display(this.calc.getResult())}}document.getElementById("history-line").textContent=this.calc.getHistory()}}(x,g,f);document.addEventListener("DOMContentLoaded",()=>{document.getElementById("calc-buttons").onclick=function(t){"BUTTON"===t.target.tagName&&w.processClick(t.target)};let t=!1;document.getElementById("menu-icon").addEventListener("click",function(){t?(document.getElementById("theme-panel").style.right="-260px",t=!1):(document.getElementById("theme-panel").style.right="0",t=!0)});let e=document.getElementById("theme-buttons"),s=e.children;e.addEventListener("click",function(t){let e=t.target;if("BUTTON"===e.tagName){document.body.setAttribute("data-theme",e.getAttribute("theme"));for(let t=0;t<s.length;t++)s[t].classList.remove("choosen-button");e.classList.add("choosen-button")}})})})();